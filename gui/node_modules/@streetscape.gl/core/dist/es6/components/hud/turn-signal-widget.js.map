{"version":3,"sources":["../../../../src/components/hud/turn-signal-widget.js"],"names":["React","PureComponent","PropTypes","evaluateStyle","styled","BaseWidget","CONTAINER_STYLE","lineHeight","textAlign","ArrowComponent","svg","props","height","theme","controlSize","margin","spacingTiny","fill","isOn","textColorPrimary","controlColorDisabled","userStyle","TurnSignalWidget","streams","transformValue","style","value","signal","data","variable","styleProps","arrow","render","log","streamName","_render","object","isRequired","string","func","x"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {evaluateStyle} from '@streetscape.gl/monochrome';\nimport styled from '@emotion/styled';\n\nimport BaseWidget from './base-widget';\n\nconst CONTAINER_STYLE = {lineHeight: 0, textAlign: 'center'};\n\nconst ArrowComponent = styled.svg(props => ({\n  height: props.theme.controlSize,\n  margin: props.theme.spacingTiny,\n  fill: props.isOn ? props.theme.textColorPrimary : props.theme.controlColorDisabled,\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nexport default class TurnSignalWidget extends PureComponent {\n  static propTypes = {\n    log: PropTypes.object.isRequired,\n    style: PropTypes.object,\n    streamName: PropTypes.string.isRequired,\n    transformValue: PropTypes.func\n  };\n\n  static defaultProps = {\n    style: {},\n    transformValue: x => x\n  };\n\n  _render = ({theme, streams}) => {\n    const {transformValue, style} = this.props;\n    const value = streams.signal.data && transformValue(streams.signal.data.variable);\n\n    const styleProps = {theme, userStyle: style.arrow};\n\n    return (\n      <div style={CONTAINER_STYLE}>\n        <ArrowComponent\n          viewBox=\"0 0 18 16\"\n          isOn={value === 'left' || value === 'both'}\n          {...styleProps}\n        >\n          <path d=\"M0,8 L8,16 L8,11 L18,11 L18,5 L8,5 L8,0z\" />\n        </ArrowComponent>\n        <ArrowComponent\n          viewBox=\"0 0 18 16\"\n          isOn={value === 'right' || value === 'both'}\n          {...styleProps}\n        >\n          <path d=\"M18,8 L10,16 L10,11 L0,11 L0,5 L10,5 L10,0z\" />\n        </ArrowComponent>\n      </div>\n    );\n  };\n\n  render() {\n    const {log, style, streamName} = this.props;\n\n    return (\n      <BaseWidget log={log} style={style} streamNames={{signal: streamName}}>\n        {this._render}\n      </BaseWidget>\n    );\n  }\n}\n"],"file":"turn-signal-widget.js"}